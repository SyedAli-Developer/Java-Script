<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Operator Solver - Pakistani Power</title>
    <style>
        body { font-family: 'Courier New'; background: #0d1117; color: #c9d1d9; text-align: center; padding: 20px; }
        h1 { color: #58a6ff; }
        input { width: 90%; padding: 15px; font-size: 18px; background: #161b22; color: #c9d1d9; border: 2px solid #30363d; border-radius: 10px; margin: 10px; }
        button { padding: 12px 30px; font-size: 18px; background: #238636; color: white; border: none; border-radius: 8px; cursor: pointer; }
        button:hover { background: #2ea043; }
        #output { margin: 30px auto; text-align: left; background: #161b22; padding: 20px; border-radius: 10px; border: 1px solid #30363d; width: 80%; font-family: monospace; }
        .line { margin: 10px 0; }
        .final { color: #a5d6ff; font-weight: bold; font-size: 1.2em; }
    </style>
</head>
<body>
    <h1>Real Operator Solver (Koi bhi expression daal do!)</h1>
    <p>Enter dabaao ya button click karo</p>
    <input type="text" id="expr" placeholder="Example: 0 === false && 7 * 2 === 14 || 'True' === true && 5 !== '5'" autofocus>
    <button onclick="solveNow()">Solve Karo!</button>
    <div id="output"></div>

    <script>
        document.getElementById("expr").addEventListener("keypress", e => e.key === "Enter" && solveNow());

        function solveNow() {
            let expr = document.getElementById("expr").value.trim();
            if (!expr) return alert("Bhai expression toh likho pehle!");

            let output = document.getElementById("output");
            output.innerHTML = `<div class="line">// ${expr}</div>`;

            // Step 1: Har chhota part evaluate karo
            let parts = expr.split(/\s*(\|\||&&)\s*/).filter(Boolean);
            let evaluated = [];
            let step1 = "";

            for (let i = 0; i < parts.length; i++) {
                let part = parts[i].trim();
                if (part === "||" || part === "&&") {
                    step1 += ` ${part} `;
                    continue;
                }
                let result;
                try {
                    result = eval(part);
                    if (typeof result === "string") result = `'${result}'`;
                    else result = result === true ? "true" : "false";
                } catch (e) {
                    result = part;
                }
                evaluated.push(result);
                step1 += result;
            }
            output.innerHTML += `<div class="line">// ${step1.trim()}</div>`;

            // Step 2: && ko pehle solve karo
            let temp = step1.trim();
            let andGroups = temp.split("||");
            let afterAND = [];
            andGroups.forEach(group => {
                let vals = group.trim().split("&&").map(x => x.trim());
                if (vals.length > 1) {
                    let res = vals.every(v => v === "true") ? "true" : "false";
                    output.innerHTML += `<div class="line">// ${group.trim()} â†’ ${res}</div>`;
                    afterAND.push(res);
                } else {
                    afterAND.push(vals[0]);
                }
            });

            let orLine = afterAND.join(" || ");
            output.innerHTML += `<div class="line">// ${orLine}</div>`;

            // Final result
            let final = afterAND.some(v => v === "true") ? "true" : "false";
            output.innerHTML += `<div class="line">// ${final}</div>`;
            output.innerHTML += `<div class="line final"><br>Final Answer: ${final}</div>`;
            output.innerHTML += `<div class="line">==================================================</div>`;
        }
    </script>
</body>
</html>